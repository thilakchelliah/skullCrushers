sharedModule.directive("tagInput",function(){return{restrict:"E",scope:{inputTags:"=taglist",autocomplete:"=autocomplete"},link:function(a,b,c){return a.defaultWidth=200,a.tagText="",a.placeholder=c.placeholder,a.autocomplete&&(a.autocompleteFocus=function(a,c){return $(b).find("input").val(c.item.value),!1},a.autocompleteSelect=function(b,c){return a.$apply("tagText='"+c.item.value+"'"),a.$apply("addTag()"),!1},$(b).find("input").autocomplete({minLength:0,source:function(b,c){var d;return c(function(){var c,e,f,g;for(f=a.autocomplete,g=[],c=0,e=f.length;c<e;c++)d=f[c],-1!==d.toLowerCase().indexOf(b.term.toLowerCase())&&g.push(d);return g}())},focus:function(b,c){return a.autocompleteFocus(b,c)},select:function(b,c){return a.autocompleteSelect(b,c)}})),a.tagArray=function(){return void 0===a.inputTags?[]:a.inputTags.split(",").filter(function(a){return""!==a})},a.addTag=function(){var b;if(0!==a.tagText.length)return b=a.tagArray(),-1==$.inArray(a.tagText,b)&&b.push(a.tagText),a.inputTags=b.join(","),a.tagText="",a.emitDataToAllParent(),a.tagText},a.deleteTag=function(b){var c;return c=a.tagArray(),c.length>0&&0===a.tagText.length&&void 0===b?c.pop():void 0!==b&&c.splice(b,1),a.inputTags=c.join(","),a.emitDataToAllParent(),a.inputTags},a.deleteAllTags=function(){return a.inputTags="",a.emitDataToAllParent(),a.inputTags},a.emitDataToAllParent=function(){a.$emit("sendTagData",a.tagArray())},a.$on("deleteAllTags",function(b,c){a.deleteAllTags()}),a.$watch("tagText",function(b,c){var d;if(b!==c||void 0!==b)return d=$("<span>"+b+"</span>").appendTo("body"),a.inputWidth=d.width()+5,a.inputWidth<a.defaultWidth&&(a.inputWidth=a.defaultWidth),d.remove()}),b.bind("keydown",function(b){var c;if(c=b.which,9!==c&&13!==c||b.preventDefault(),8===c)return a.$apply("deleteTag()")}),b.bind("keyup",function(b){var c;if(9===(c=b.which)||13===c||188===c)return b.preventDefault(),a.$apply("addTag()")})},template:"<div class='tag-input-ctn'><div class='input-tag' data-ng-repeat=\"tag in tagArray()\">{{tag}}<div class='delete-tag' data-ng-click='deleteTag($index)'>&times;</div></div><input type='text' data-ng-style='{width: inputWidth}' data-ng-model='tagText' placeholder='{{placeholder}}'/></div>"}});
//# sourceMappingURL=tagger.directive.min.js.map